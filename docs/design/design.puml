@startuml

' Presentation Layer
package "Presentation Layer" {
    class CustomerUI {
        +start()
        +showWelcomeScreen()
        +browseMenu()
        +customizeItem()
        +reviewOrder()
        +orderPayment()
    }

    class CashierUI {
        +start()
        +showOrderList()
        +showOrderDetails(orderID: int)
        +showCounterPayment(orderID: int)
    }

    class KitchenUI {
        +start()
        +showOrderQueue()
    }

    class ManagerUI {
        +start()
        +showManagementDashboard()
        +showDailySalesSummary(date: Date)
    }

    class CustomerAppController {
        +startOrder()
        +browseMenu()
        +addItemToOrder(itemID: int, quantity: int, customizations: String)
        +reviewCurrentOrder(): Order
        +confirmOrder(): Order
        +payOnSystem(cardInfo: String)
    }

    class CashierAppController {
        +listPendingCounterPayments(): List<Order>
        +findOrder(orderID: int): Order
        +completeCounterPayment(orderID: int, paymentMethod: String)
    }

    class KitchenAppController {
        +getOrderQueue(): List<Order>
        +markInPreparation(orderID: int)
        +markReady(orderID: int)
        +cancelOrder(orderID: int)
    }

    class ManagerAppController {
        +listMenuItems(): List<MenuItem>
        +addMenuItem(name: String, price: double, category: String, description: String)
        +updateMenuItem(itemID: int, price: double, description: String)
        +showDailySalesSummary(date: Date): DailySalesSummary
    }
}

' Domain Layer
package "Domain Layer" {
    class OrderingService {
        +createOrder(): Order
        +addItem(orderID: int, itemID: int, quantity: int, customizations: String)
        +editItem(orderID: int, itemID: int, quantity: int, customizations: String)
        +removeItem(orderID: int, itemID: int)
        +reviewOrder(orderID: int): Order
        +getOrderByID(orderID: int): Order
        +confirmOrder(orderID: int): void
        -updateOrderTotals(orderID: int): void
    }

    class PaymentService {
        +processSystemCardPayment(orderID: int, cardInfo: String): Payment
        +markPayAtCounter(orderID: int)
        +completeCounterPayment(orderID: int, paymentMethod: String): Payment
    }

    class KitchenService {
        +getOrderQueue(): List<Order>
        +updateOrderStatus(orderID: int, status: String)
        +cancelOrder(orderID: int)
    }

    class MenuService {
        +getMenuCategories(): List<String>
        +getMenuItemsByCategory(category: String): List<MenuItem>
        +getItemDetails(itemID: int): MenuItem
        +addNewMenuItem(name: String, price: double, category: String, description: String): MenuItem
        +updateExistingMenuItem(itemID: int, price: double, category: String, description: String): void
        +getMenuItemById(itemID: int): MenuItem
    }

    class ReportService {
        +generateDailySalesSummary(date: Date): DailySalesSummary
    }
}

' Datasource Layer
package "Datasource Layer" {
    class Order {
        -id: String
        -items: List<OrderItem>
        -status: String
        -createdAt: Date
        -totalAmount: double
        +calculateTotal(): double
    }

    class OrderItem {
        -menuItem: MenuItem
        -quantity: int
        -unitPrice: double
        -customizations: String
        +getItemTotal(): double
    }

    class MenuItem {
        -id: String
        -name: String
        -price: double
        -category: String
        -description: String
    }

    class Payment {
        -id: String
        -orderID: int
        -amount: double
        -method: String
        -status: String
        -paidAt: Date
    }

    class DailySalesSummary {
        -date: Date
        -totalRevenue: double
        -numberOfOrders: int
        -topSellingItems: List<MenuItem>
    }

    interface OrderInterface {
        +save(order: Order): void
        +get()
        +findById(id: String): Order
        +findByStatus(status: String): List<Order>

    }

    interface MenuInterface {
        +save(item: MenuItem): void
        +findAll(): List<MenuItem>
        +findById(id: String): MenuItem
        +findByCategory(category: String): List<MenuItem>
    }

    interface PaymentInterface {
        +save(payment: Payment): void
        +findByDate(date: Date): List<Payment>
    }

    class Database {
        -connectionString: String
        +executeQuery(sql: String): Object
    }
}

CustomerUI --> CustomerAppController
CashierUI  --> CashierAppController
KitchenUI  --> KitchenAppController
ManagerUI  --> ManagerAppController
CustomerAppController --> OrderingService
CustomerAppController --> PaymentService
CustomerAppController --> MenuService
CashierAppController  --> OrderingService
CashierAppController  --> PaymentService
KitchenAppController  --> KitchenService
ManagerAppController  --> MenuService
ManagerAppController  --> ReportService
Order *-- "many" OrderItem
OrderItem --> MenuItem
OrderInterface --> Order
MenuInterface  --> MenuItem
PaymentInterface --> Payment
class SqlOrder
class SqlMenu
class SqlPayment
OrderInterface <|.. SqlOrder
MenuInterface  <|.. SqlMenu
PaymentInterface <|.. SqlPayment
SqlOrder --> Database
SqlMenu  --> Database
SqlPayment --> Database
OrderingService --> OrderInterface
OrderingService --> MenuInterface
PaymentService  --> OrderInterface
PaymentService  --> PaymentInterface
KitchenService  --> OrderInterface
MenuService     --> MenuInterface
ReportService --> OrderInterface
ReportService --> PaymentInterface

@enduml